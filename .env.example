# ============================================
# Bar POS Application - Environment Configuration
# ============================================
# Copy this file to .env and modify the values as needed
# The root .env file is the single source of truth for all services

# ============================================
# Application URL
# ============================================
# The URL where the application will be accessible
# Examples:
# - For local development: http://localhost
# - For LAN access with IP: http://192.168.1.241
# - For LAN access with DNS: http://bar-pos.local
# - For internet access: http://your-domain.com
URL=http://localhost

# Nginx port (default: 80)
NGINX_PORT=80

# ============================================
# Docker Port Exposure Configuration
# ============================================
# Docker Compose uses an override file pattern for conditional port exposure.
#
# How it works:
# - docker-compose.yml: Base configuration (production-ready, minimal port exposure)
# - docker-compose.override.yml: Development overrides (auto-merged, exposes extra ports)
#
# The override file is AUTOMATICALLY merged when running `docker compose up`
# To run without overrides (production mode): docker compose -f docker-compose.yml up -d
#
# SECURITY WARNING: Port exposure has significant security implications!
# Only expose ports that are necessary for your use case.
#
# EXPOSE_DB_PORT: Exposes database port 5432 to the host
# - true: Allows direct database access with tools like pgAdmin, DBeaver
# - false: Database only accessible from within Docker network
# Default: true (for development convenience)
EXPOSE_DB_PORT=true

# EXPOSE_FRONTEND_PORT: Exposes frontend port 3000 to the host
# - true: Allows direct frontend access (bypasses nginx)
# - false: Frontend only accessible via nginx reverse proxy
# Default: true (for development convenience)
EXPOSE_FRONTEND_PORT=true

# Optional: Custom port numbers (defaults used if not set)
# DB_PORT=5432
# FRONTEND_PORT=3000

# ============================================
# Production Deployment
# ============================================
# For production, you have two options:
#
# Option 1: Delete or rename the override file
#   rm docker-compose.override.yml
#   docker compose up -d
#
# Option 2: Explicitly specify the base compose file
#   docker compose -f docker-compose.yml up -d
#
# This ensures only nginx port (80/443) is exposed to the host.

# ============================================
# Database Configuration
# ============================================
POSTGRES_USER=totalevo_user
POSTGRES_PASSWORD=totalevo_password
POSTGRES_DB=bar_pos

# ============================================
# JWT Secret for token signing and verification
# ============================================
# Generate a secure secret using: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# IMPORTANT: Never use default values like 'your-secret-key', 'secret', or 'dev-secret'
# The secret must be at least 64 characters long
JWT_SECRET=your-generated-secret-here

# ============================================
# Environment Mode
# ============================================
# Set to 'production' for production deployment
# - development: Detailed error messages, relaxed security
# - production: Generic errors, strict security
NODE_ENV=development
